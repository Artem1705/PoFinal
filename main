import tkinter as tk
from pages import create_pages

BG_COLOR = "#121212"
NAV_COLOR = "#1E1E1E"
BTN_COLOR = "#2A2A2A"
HOVER_COLOR = "#333333"
ACTIVE_COLOR = "#00C853"
TEXT_COLOR = "white"

root = tk.Tk()
root.title("Курс валют")
root.geometry("1050x720")
root.configure(bg=BG_COLOR)

container = tk.Frame(root, bg=BG_COLOR)
container.pack(fill="both", expand=True)

frames, refresh_all = create_pages(container)

current_page = None
nav_buttons = {}

def show_frame(name):
    global current_page
    refresh_all()
    frames[name].tkraise()

    for n, btn in nav_buttons.items():
        btn.config(bg=ACTIVE_COLOR if n == name else BTN_COLOR)

    current_page = name


nav_frame = tk.Frame(root, bg=NAV_COLOR, height=70)
nav_frame.pack(side="bottom", fill="x")

buttons = ["Валюты", "Конвертер", "Избранное", "История", "Настройки"]

for name in buttons:
    btn = tk.Button(nav_frame, text=name,
                    bg=BTN_COLOR, fg=TEXT_COLOR,
                    bd=0, font=("Arial", 12),
                    command=lambda n=name: show_frame(n))
    btn.pack(side="left", expand=True, fill="both")

    btn.bind("<Enter>", lambda e, b=btn: b.config(bg=HOVER_COLOR))
    btn.bind("<Leave>", lambda e, b=btn, n=name:
             b.config(bg=ACTIVE_COLOR if current_page == n else BTN_COLOR))

    nav_buttons[name] = btn

show_frame("Валюты")
root.mainloop()
